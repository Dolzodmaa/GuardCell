<!DOCTYPE HTML>
<html>

<head>
  <title>Virtual Guard Cell</title>
  <meta name="description" content="website description" />
  <meta name="keywords" content="website keywords, website keywords" />
  <meta http-equiv="content-type" content="text/html; charset=windows-1252" />
  <link rel="stylesheet" type="text/css" href="style/style.css" />
</head>

<body>
  <div id="main">
    <div id="header">
      <div id="logo">
        <div id="logo_text">
          <!-- class="logo_colour", allows you to change the colour of the text -->

          <h1 align="center" class="heading">The Virtual Guard Cell</h1>
          <div id="banner"></div>
        
        </div>
      </div>
      <div id="menubar">
        <ul id="menu">
          <!-- put class="selected" in the li tag for the selected page - to highlight which page you're on -->
          <li ><a href="index.html">Introduction</a></li>
          <li ><a href="gallery.html">Gallery of Guard Cells</a></li>
          <li>
            <div class="dropdown"> 
              <a class="drop">Activities and Lesson Plans</a>
              <div class="dropdown-content">
                <a href="activities.html">Activity</a>
                <a href="lesson.html">Lesson Plan</a>

              </div>
            </div>
          </li>
          <li ><a href="mechanics.html">Mechanics of Stomata</a></li>
          <li class="selected"><a href="3Dstomata.html">3D Modeling</a></li>
           
        </ul>
      </div>
    </div>
    <div id="content_header"></div>
    <div id="site_content">
    
      <div id="content">
        <!-- insert the page content here -->
        <h1><span style="font-weight:bold">How we extract 3D Stomata Models</span></h1>
        <h2>Why</h2>
        <p style="font-size:120%;">In order to fully understand what is going on with stomata at different states, scientists need to see and probe these structures in 3D. Microscopes are used to capture 3D pictures of stomata. It does not stop there. Computers help scientist to get faster, reliable measurements and analyses. For computers to be able to automatically measure stoma properties, they need to <q>see</q>  where the stoma is in the picture. The  <q>seeing</q>. is called segmentation by computer scientists. Here we explain how we explain how we make the computer see stoma in a 3D volume picture. </p>

        <div class="row2">
          <div class="column2">
            <figure>
            <img src="st1.png" alt="Snow" style="width:100%">
            </figure>
          </div>
          <div class="column3">
            <figure>
            <img src="arr1.png" alt="arrow" style="width:100%">
            </figure>
          </div>
          <div class="column2">
            <figure>
            <img src="st2.png" alt="Snow" style="width:100%">
            </figure>
          </div>

          <div class="column2">
            <figure>
            <img src="st3.png" alt="Forest" style="width:100%">
            
            </figure>
          </div>
        </div>
        
        <h2>How</h2>
        
            <p>1. Microscopy images require contrast and brightness adjustment to make stoma more visible.</p>

        <div class="row2">
          <div class="column2">
            <figure>
            <img src="st4.png" alt="Snow" style="width:100%">
            </figure>
          </div>
          <div class="column3">
            <figure>
            <img src="arr1.png" alt="arrow" style="width:100%">
            </figure>
          </div>
          <div class="column2">
            <figure>
            <img src="st5.png" alt="Snow" style="width:100%">
            </figure>
          </div>
        </div>

        <p>2. First we find the surface between black region (background) and brighter (foreground, stoma) parts. An initial surface is started, and this surface moves towards the bright structure giving us an idea where stoma is. This method is called active surface segmentation</p>
        <div class="row2">
          <div class="column2">
            <figure>
            <img src="st6.png" alt="Snow" style="width:100%">
            </figure>
          </div>
    
          <div class="column2">
            <figure>
            <img src="st7.png" alt="Snow" style="width:100%">
            </figure>
          </div>
        </div>

        <p >3. Due to imaging imperfections, the initial surface has some holes that need to be fixed. This requires another pass analyzing each slice of the initial surface mentioned above. We track centers of each stoma guard cell, open up the cirle structure into a line. This is called polar coordinate transformation. Similar active surface above, we use active line to get inner and outer contours. As the moving lines keep their continuity, they close out the holes. We transform the lines back to actual image.</p>

        <div class="row2">
          <div class="column2">
            <figure>
            <img src="st8.png" alt="Snow" style="width:100%">
            </figure>
          </div>
    
          <div class="column4">
            <figure>
            <img src="st9.png" alt="Snow" style="width:100%">
            </figure>
          </div>
          <div class="column2">
            <figure>
            <img src="st10.png" alt="Snow" style="width:80%">
            </figure>
          </div>
        </div>
        

        
        <p >4. Now we know location of each point in the surface that we just improved by closing the holes. Using these points, we can render this surface for visualization. Then  the surface is smoothed out to get rid of bumps that are caused by slice to slice processing.</p>
        
        <div id="stl_cont" style="width:800px;height:800px;position:relative; float:left;margin:0 auto;"></div>

        <script src="stl_viewer.min.js"></script>        
        <script>
            var stl_viewer=new StlViewer
            (
                document.getElementById("stl_cont"),
                {
                auto_resize:true,
                zoom:50,
                models:
                    [
                        {filename:"models/Col_zser01-1_crop_CC_contrast_outer_lnd_1_volume_original_nghbd3_cropped_vcg_taubin.stl", opacity:0.2, x:-23, y:0, z:0, color:"#FF1212", rotationx:90, view_edges:true, display:"smooth"},
                        {filename:"models/Col_zser01-1_crop_CC_contrast_outer_lnd_2_volume_original_nghbd3_cropped_vcg_taubin.stl", opacity:0.2, x:23, y:0, z:0, color:"#FFFFFF", rotationx:90, view_edges:true, display:"smooth"}
                    ]
                }
            );
        </script>
      </div>
    </div>
    <div id="content_footer"></div>
    <div id="footer">
      <p>Created by the Guard Cell Wall Team at <span style="font-weight:bold">Penn State University</span>, with support from the National Science Foundation, grant MCB 1616316</p>
      
    </div>
  </div>
</body>
</html>
